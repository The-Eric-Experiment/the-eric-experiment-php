RewriteEngine On

RewriteCond %{HTTP_HOST} ^([a-zA-Z0-9-]+)\.ericexperiment\.com$ [NC]
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^(.*)$ /views/sub-site.php?subdomain=%1 [L,NC,QSA]

RewriteCond %{REQUEST_URI} \.[a-zA-Z0-9]{2,5}$
RewriteRule ^ - [L]

RewriteCond %{REQUEST_URI} !\.[a-zA-Z0-9]{2,5}$
RewriteCond %{DOCUMENT_ROOT}/views/%1.php -f
RewriteRule ^([^/]+)$ /views/$1.php [L]

RewriteCond %{REQUEST_URI} !\.[a-zA-Z0-9]{2,5}$
RewriteCond %{DOCUMENT_ROOT}/views/%1.php !-f
RewriteCond %{DOCUMENT_ROOT}/views/page.php -f
RewriteRule ^([^/]+)$ /views/page.php [L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ /views/not-found.php [L]
